import{_ as z,o as a,c as s,a as t,H as K,I as Q,r as v,k as d,l as G,f as b,t as r,d as m,F as _,m as y,e as f,g as H,n as C,A as R,p as U,q as g,h as O,s as Z}from"./index-BtwKz26K.js";import{B as j}from"./BackButton--LrscsgX.js";const J={},X={class:"article-info-panel"};function Y(I,l){return a(),s("div",X,l[0]||(l[0]=[t("h3",null,"Über unsere Produkte",-1),t("ul",null,[t("li",null," Alle unsere Teesorten stammen aus biologischem Anbau und werden unter höchsten Standards geerntet. "),t("li",null," Unsere Tees werden sorgfältig von Hand verpackt, um die Frische und Qualität zu bewahren. "),t("li",null," Wir garantieren höchste Qualität durch regelmäßige Qualitätskontrollen und nachhaltige Produktionsverfahren. "),t("li",null," Faire und nachhaltige Produktion stehen bei uns an erster Stelle – von der Plantage bis zu Ihnen nach Hause. "),t("li",null," Unsere Verpackungen bestehen aus umweltfreundlichen Materialien und sind vollständig recycelbar. "),t("li",null," Wir arbeiten eng mit lokalen Bauern zusammen, um deren Gemeinden zu unterstützen und faire Löhne zu gewährleisten. "),t("li",null," Unser Ziel ist es, Ihnen ein einzigartiges Geschmackserlebnis zu bieten – 100% natürlich und unverfälscht. "),t("li",null," Durch die Kombination traditioneller Handwerkskunst und moderner Verfahren schaffen wir ein Premium-Produkt. ")],-1)]))}const ee=z(J,[["render",Y],["__scopeId","data-v-fe11d684"]]),te={class:"product-detail"},ne={class:"back-button-wrapper"},ae={key:0,class:"loading"},se={key:1,class:"product-container"},re=["src","alt"],ie={class:"info-card"},le={key:0,class:"product-id"},oe={key:1,class:"categories"},ue={key:2,class:"rating"},ce={key:3,class:"price"},de={class:"point-out-info"},me={class:"content-info"},ge={key:4},ve={class:"actions"},fe={class:"quantity-selector"},he=["disabled"],pe={class:"quantity-display"},ke=["src","alt"],be={__name:"ProductDetail",setup(I){const l=K(),h=Q(),B=Z(),x=R(),e=v(null),w=v(!0),i=v(1),p=v(!1),k=x.params.id,P=d(()=>{var o;return Math.floor(((o=e.value)==null?void 0:o.averageRating)||0)}),W=d(()=>5-P.value),S=new Intl.NumberFormat("de-DE",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),F=d(()=>e.value&&e.value.price?S.format(e.value.price):"0,00"),q=d(()=>{if(e.value.price&&e.value.quantity){const n=e.value.price/e.value.quantity*1e3;return parseFloat(n.toFixed(2))}return 0}),M=d(()=>h.isWished(parseInt(k))),V=d(()=>l.isInShoppingCart(parseInt(k))),$=async()=>{var o,n;try{const{data:u}=await U.get(`/api/product/${k}`);e.value=u}catch(u){console.error("Fehler beim Laden der Produktdetails:",u),await g.fire({backdrop:!1,title:"Fehler beim Laden der Produktdetails!",text:((n=(o=u.response)==null?void 0:o.data)==null?void 0:n.error)||"Ein unbekannter Fehler ist aufgetreten.",icon:"error",confirmButtonText:"OK"}),await B.push({name:"LandingPage"})}finally{w.value=!1}},A=()=>{i.value+=1},D=()=>{i.value>1&&(i.value-=1)},E=()=>{if(l.isInShoppingCart(e.value.id))l.removeFromCart(e.value.id),g.fire({backdrop:!1,title:"Erfolgreich entfernt!",text:`Artikel: ${e.value.name} wurden aus dem Warenkorb entfernt.`,icon:"info",showConfirmButton:!1,timer:1500,timerProgressBar:!0});else{if(i.value<1||!Number.isInteger(i.value)){g.fire({backdrop:!1,title:"Ungültige Menge!",text:"Bitte eine gültige Menge (mindestens 1 Einheit) eingeben.",icon:"warning",confirmButtonText:"OK"});return}l.addToCart(e.value,i.value),g.fire({backdrop:!1,title:"Erfolgreich hinzugefügt!",text:`${i.value} Einheit(en) von ${e.value.name} wurden in den Warenkorb gelegt.`,icon:"success",showConfirmButton:!1,timer:1500,timerProgressBar:!0})}},L=()=>{p.value=!0},N=()=>{p.value=!1},T=()=>{h.toggleWishlist(e.value),h.isWished(e.value.id)?g.fire({backdrop:!1,title:"Zum Wunschzettel hinzugefügt!",text:`${e.value.name} wurde erfolgreich zum Wunschzettel hinzugefügt.`,icon:"success",showConfirmButton:!1,timer:1500,timerProgressBar:!0}):g.fire({backdrop:!1,title:"Vom Wunschzettel entfernt!",text:`${e.value.name} wurde vom Wunschzettel entfernt.`,icon:"info",showConfirmButton:!1,timer:1500,timerProgressBar:!0})};return G($),(o,n)=>{const u=O("router-link");return a(),s("div",te,[t("div",ne,[b(j,{class:"back-button"})]),w.value?(a(),s("div",ae,"Lade Produktdetails...")):(a(),s("div",se,[t("div",{class:"image-section",onClick:L},[t("img",{src:e.value.image,alt:e.value.name,class:"product-image"},null,8,re)]),t("div",ie,[t("h2",null,r(e.value.name),1),e.value.id?(a(),s("p",le,"Artikelnummer: "+r(e.value.id),1)):m("",!0),e.value.productCategories?(a(),s("div",oe,[(a(!0),s(_,null,y(e.value.productCategories,c=>(a(),s("span",{key:c.id,class:"badge"},r(c.name),1))),128))])):m("",!0),e.value.averageRating?(a(),s("div",ue,[(a(!0),s(_,null,y(P.value,c=>(a(),s("span",{key:"full-"+c},"⭐"))),128)),(a(!0),s(_,null,y(W.value,c=>(a(),s("span",{key:"empty-"+c},"☆"))),128)),t("small",null,"("+r(e.value.reviews)+" Bewertungen)",1)])):m("",!0),e.value.price?(a(),s("p",ce," Preis: "+r(F.value)+"€ - "+r(e.value.quantity)+"g ",1)):m("",!0),t("p",de,[n[1]||(n[1]=f(" Preis inkl. 7% MwSt. ")),b(u,{to:{name:"PaymentShippingInfo"},class:"shipping-link"},{default:H(()=>n[0]||(n[0]=[f("zzgl. Versand ")])),_:1})]),t("p",me,"Inhalt: "+r(e.value.quantity)+"g ("+r(q.value)+"€ / kg)",1),e.value.description?(a(),s("p",ge,r(e.value.description),1)):m("",!0),n[5]||(n[5]=t("hr",{class:"section-divider"},null,-1)),t("div",ve,[n[3]||(n[3]=t("label",{for:"quantity",class:"point-out-info"},"Menge:",-1)),t("div",fe,[t("button",{onClick:D,disabled:i.value<=1,class:"quantity-button"}," - ",8,he),t("span",pe,r(i.value),1),t("button",{onClick:A,class:"quantity-button"},"+")]),t("button",{onClick:E,class:"btn"},[t("i",{class:C(V.value?"bi bi-cart-fill":"bi bi-cart")},null,2),n[2]||(n[2]=f(" In den Warenkorb "))])]),t("button",{class:"btn secondary",onClick:T},[t("i",{class:C(M.value?"bi bi-heart-fill":"bi bi-heart")},null,2),n[4]||(n[4]=f(" Auf den Wunschzettel "))])])])),b(ee),p.value?(a(),s("div",{key:2,class:"image-modal",onClick:N},[t("img",{src:e.value.image,alt:e.value.name,class:"modal-image"},null,8,ke)])):m("",!0)])}}},we=z(be,[["__scopeId","data-v-9d3254cc"]]);export{we as default};
