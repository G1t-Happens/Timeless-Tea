import{_ as h,H as _,c as s,a as t,f as l,i as p,g as m,F as y,m as C,e as i,t as u,q as g,h as v,o as a,b as x,v as B}from"./index-BtwKz26K.js";import{B as w}from"./BackButton--LrscsgX.js";const S={class:"cart"},D={key:0,class:"empty-cart"},Q={key:1,class:"cart-content"},T={class:"cart-table"},V={class:"product-info"},W=["src","alt"],A=["onUpdate:modelValue","onChange"],F=["onClick"],P={class:"cart-summary"},I={__name:"ShoppingCart",setup(M){const r=_(),k=o=>{r.removeFromCart(o)},b=o=>{o.productQuantity<1&&(g.fire({title:"Bitte gültige Menge eingeben.",text:"Die Menge der Produkte muss positiv sein.",icon:"warning",confirmButtonText:"OK"}),r.updateQuantity(o.id,1))},f=async()=>{(await g.fire({backdrop:!1,title:"Warenkorb leeren?",text:"Möchten Sie wirklich alle Artikel entfernen? Dieser Vorgang kann nicht rückgängig gemacht werden.",icon:"warning",showCancelButton:!0,confirmButtonText:"Ja, entfernen",cancelButtonText:"Abbrechen"})).isConfirmed&&(r.clearCart(),await g.fire({backdrop:!1,title:"Warenkorb geleert",text:"Der Warenkorb wurde erfolgreich geleert.",icon:"success",confirmButtonText:"OK"}))};return(o,e)=>{const c=v("router-link");return a(),s("div",S,[e[5]||(e[5]=t("h1",{class:"cart-title"},"Ihr Warenkorb",-1)),l(w),p(r).items.length===0?(a(),s("div",D,[e[1]||(e[1]=t("p",null,"Ihr Warenkorb ist leer.",-1)),l(c,{to:{name:"LandingPage"},class:"btn btn-success"},{default:m(()=>e[0]||(e[0]=[i("Zurück zum Shop ")])),_:1})])):(a(),s("div",Q,[t("table",T,[e[2]||(e[2]=t("thead",null,[t("tr",null,[t("th",null,"Produkt"),t("th",null,"Artikel"),t("th",null,"Preis (€)"),t("th",null,"Gesamt (€)"),t("th",null,"Aktion")])],-1)),t("tbody",null,[(a(!0),s(y,null,C(p(r).items,n=>(a(),s("tr",{key:n.id},[t("td",V,[t("img",{src:n.image,alt:n.name,class:"product-image"},null,8,W),l(c,{to:{name:"ProductDetail",params:{id:n.id}},class:"product-link"},{default:m(()=>[i(u(n.name),1)]),_:2},1032,["to"])]),t("td",null,[x(t("input",{type:"number","onUpdate:modelValue":d=>n.productQuantity=d,min:"1",step:"1",onChange:d=>b(n),class:"quantity-input"},null,40,A),[[B,n.productQuantity,void 0,{number:!0}]])]),t("td",null,u(n.price.toFixed(2)),1),t("td",null,u((n.price*n.productQuantity).toFixed(2)),1),t("td",null,[t("button",{onClick:d=>k(n.id),class:"btn btn-danger remove-btn"}," Entfernen ",8,F)])]))),128))])]),t("div",P,[t("p",null,[e[3]||(e[3]=i(" Gesamtsumme: ")),t("strong",null,u(p(r).totalAmount)+" €",1)]),l(c,{to:{name:"CheckOut"},class:"btn btn-success"},{default:m(()=>e[4]||(e[4]=[i("Zur Kasse")])),_:1}),t("button",{onClick:f,class:"btn btn-secondary"},"Warenkorb leeren")])]))])}}},O=h(I,[["__scopeId","data-v-6c544c47"]]);export{O as default};
