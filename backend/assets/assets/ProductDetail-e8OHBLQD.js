import{_ as w,o as n,c as a,a as t,E as A,G as E,r as v,k as m,l as G,f as _,t as r,d,F as k,m as b,e as g,g as L,n as Q,z as R,p as H,h as K,q as U}from"./index-BQPN_HOS.js";import{B as Z}from"./BackButton-CnNbgDn5.js";const j={},J={class:"article-info-panel"};function O(s,i){return n(),a("div",J,i[0]||(i[0]=[t("h3",null,"Über unsere Produkte",-1),t("ul",null,[t("li",null," Alle unsere Teesorten stammen aus biologischem Anbau und werden unter höchsten Standards geerntet. "),t("li",null," Unsere Tees werden sorgfältig von Hand verpackt, um die Frische und Qualität zu bewahren. "),t("li",null," Wir garantieren höchste Qualität durch regelmäßige Qualitätskontrollen und nachhaltige Produktionsverfahren. "),t("li",null," Faire und nachhaltige Produktion stehen bei uns an erster Stelle – von der Plantage bis zu Ihnen nach Hause. "),t("li",null," Unsere Verpackungen bestehen aus umweltfreundlichen Materialien und sind vollständig recycelbar. "),t("li",null," Wir arbeiten eng mit lokalen Bauern zusammen, um deren Gemeinden zu unterstützen und faire Löhne zu gewährleisten. "),t("li",null," Unser Ziel ist es, Ihnen ein einzigartiges Geschmackserlebnis zu bieten – 100% natürlich und unverfälscht. "),t("li",null," Durch die Kombination traditioneller Handwerkskunst und moderner Verfahren schaffen wir ein Premium-Produkt. ")],-1)]))}const X=w(j,[["render",O],["__scopeId","data-v-d7d6d1ea"]]),Y=A("wishlist",{state:()=>({items:[]}),getters:{itemCount:s=>s.items.length,isWished:s=>i=>s.items.includes(i),wishedProducts:s=>s.items.map(i=>s.itemsDetails[i]).filter(i=>i!==void 0)},actions:{addToWishlist(s){this.items.includes(s)||this.items.push(s)},removeFromWishlist(s){this.items=this.items.filter(i=>i!==s)},toggleWishlist(s){this.isWished(s)?this.removeFromWishlist(s):this.addToWishlist(s)}}}),ee={class:"product-detail"},te={class:"back-button-wrapper"},se={key:0,class:"loading"},ne={key:1,class:"product-container"},ae=["src","alt"],ie={class:"info-card"},le={key:0,class:"product-id"},re={key:1,class:"categories"},oe={key:2,class:"rating"},ue={key:3,class:"price"},ce={class:"point-out-info"},de={class:"content-info"},me={key:4},he={class:"actions"},ve={class:"quantity-selector"},ge=["disabled"],pe={class:"quantity-display"},fe=["src","alt"],_e={__name:"ProductDetail",setup(s){const i=E(),p=Y(),W=U(),z=R(),e=v(null),y=v(!0),o=v(1),f=v(!1),h=z.params.id,P=m(()=>{var u;return Math.floor(((u=e.value)==null?void 0:u.averageRating)||0)}),C=m(()=>5-P.value),F=new Intl.NumberFormat("de-DE",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),S=m(()=>e.value&&e.value.price?F.format(e.value.price):"0,00"),q=m(()=>{if(e.value.price&&e.value.quantity){const l=e.value.price/e.value.quantity*1e3;return parseFloat(l.toFixed(2))}return 0}),I=m(()=>p.isWished(h)),x=async()=>{try{const{data:u}=await H.get(`/api/product/${h}`);e.value=u}catch(u){console.error("Fehler beim Laden der Produktdetails:",u),alert("Produktdetails konnten nicht geladen werden."),await W.push({name:"LandingPage"})}finally{y.value=!1}},B=()=>{o.value+=1},M=()=>{o.value>1&&(o.value-=1)},D=()=>{if(o.value<1||!Number.isInteger(o.value)){alert("Bitte eine gültige Menge (mindestens 1 Einheit) eingeben.");return}i.addToCart(e.value,o.value),alert(`${o.value} Einheit(en) von ${e.value.name} in den Warenkorb gelegt.`)},T=()=>{f.value=!0},V=()=>{f.value=!1},$=()=>{p.toggleWishlist(h),p.isWished(h)?alert(`${e.value.name} wurde zum Wunschzettel hinzugefügt.`):alert(`${e.value.name} wurde vom Wunschzettel entfernt.`)};return G(x),(u,l)=>{const N=K("router-link");return n(),a("div",ee,[t("div",te,[_(Z,{class:"back-button"})]),y.value?(n(),a("div",se,"Lade Produktdetails...")):(n(),a("div",ne,[t("div",{class:"image-section",onClick:T},[t("img",{src:e.value.image,alt:e.value.name,class:"product-image"},null,8,ae)]),t("div",ie,[t("h2",null,r(e.value.name),1),e.value.id?(n(),a("p",le,"Artikelnummer: "+r(e.value.id),1)):d("",!0),e.value.productCategories?(n(),a("div",re,[(n(!0),a(k,null,b(e.value.productCategories,c=>(n(),a("span",{key:c.id,class:"badge"},r(c.name),1))),128))])):d("",!0),e.value.averageRating?(n(),a("div",oe,[(n(!0),a(k,null,b(P.value,c=>(n(),a("span",{key:"full-"+c},"⭐"))),128)),(n(!0),a(k,null,b(C.value,c=>(n(),a("span",{key:"empty-"+c},"☆"))),128)),t("small",null,"("+r(e.value.reviews)+" Bewertungen)",1)])):d("",!0),e.value.price?(n(),a("p",ue," Preis: "+r(S.value)+"€ - "+r(e.value.quantity)+"g ",1)):d("",!0),t("p",ce,[l[1]||(l[1]=g(" Preis inkl. 7% MwSt. ")),_(N,{to:{name:"PaymentShippingInfo"},class:"shipping-link"},{default:L(()=>l[0]||(l[0]=[g("zzgl. Versand ")])),_:1})]),t("p",de,"Inhalt: "+r(e.value.quantity)+"g ("+r(q.value)+"€ / kg)",1),e.value.description?(n(),a("p",me,r(e.value.description),1)):d("",!0),t("div",he,[l[3]||(l[3]=t("label",{for:"quantity",class:"point-out-info"},"Menge:",-1)),t("div",ve,[t("button",{onClick:M,disabled:o.value<=1,class:"quantity-button"}," - ",8,ge),t("span",pe,r(o.value),1),t("button",{onClick:B,class:"quantity-button"},"+")]),t("button",{onClick:D,class:"btn"},l[2]||(l[2]=[t("i",{class:"bi bi-cart-fill"},null,-1),g(" In den Warenkorb ")]))]),t("button",{class:"btn secondary",onClick:$},[t("i",{class:Q(I.value?"bi bi-heart-fill":"bi bi-heart")},null,2),l[4]||(l[4]=g(" Auf den Wunschzettel "))])])])),_(X),f.value?(n(),a("div",{key:2,class:"image-modal",onClick:V},[t("img",{src:e.value.image,alt:e.value.name,class:"modal-image"},null,8,fe)])):d("",!0)])}}},ye=w(_e,[["__scopeId","data-v-ef636741"]]);export{ye as default};
