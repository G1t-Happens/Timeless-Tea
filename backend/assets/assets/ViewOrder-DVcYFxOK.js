import{_ as k,r as B,l as D,c as i,f as b,a as l,t,n as V,e,d,F as m,m as A,p as E,o,z as S}from"./index-K1tN9E6u.js";import{B as L}from"./BackButton-D8GlQKJ7.js";const O={key:0,class:"view-order"},w={class:"order-header"},N={class:"page-title"},x={class:"order-summary"},z={class:"summary-card"},C={class:"info-section"},I={class:"info-section"},P={class:"address"},F={key:0},Z={class:"info-section"},q={key:1},G={key:2},K={class:"products-section"},M={class:"product-list"},R=["src","alt"],$={class:"product-info"},H={key:1,class:"loading"},T={__name:"ViewOrder",setup(U){const g=S(),s=B(null),v=r=>({open:"Offen",processing:"In Bearbeitung",successful:"Erfolgreich",failed:"Fehlgeschlagen",canceled:"Storniert"})[r]||r,p=r=>new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(r),a=r=>new Date(r).toLocaleDateString("de-DE",{year:"numeric",month:"long",day:"numeric"}),y=r=>(r==null?void 0:r.replace(/\d{12}(\d{4})/,"**** **** **** $1"))||"Keine Daten",f=async()=>{try{const r=g.params.id,{data:n}=await E.get(`/api/order/${r}`);s.value=n}catch(r){console.error("Fehler beim Laden der Bestellung:",r)}};return D(()=>{f()}),(r,n)=>s.value?(o(),i("div",O,[b(L),l("header",w,[l("h2",N,"Bestellung #"+t(s.value.id),1),l("span",{class:V(["status",s.value.orderStatus])},t(v(s.value.orderStatus)),3)]),l("main",null,[l("section",x,[l("div",z,[n[3]||(n[3]=l("h3",null,"Bestellübersicht",-1)),l("ul",null,[l("li",null,[n[0]||(n[0]=l("span",null,"Gesamtbetrag:",-1)),l("span",null,t(p(s.value.totalAmount)),1)]),l("li",null,[n[1]||(n[1]=l("span",null,"Erstellt:",-1)),l("span",null,t(a(s.value.createdAt)),1)]),l("li",null,[n[2]||(n[2]=l("span",null,"Aktualisiert:",-1)),l("span",null,t(a(s.value.updatedAt)),1)])])])]),l("section",C,[n[8]||(n[8]=l("h3",null,"Benutzerinformationen",-1)),l("ul",null,[l("li",null,[n[4]||(n[4]=l("strong",null,"Benutzer ID:",-1)),e(" "+t(s.value.user.id),1)]),l("li",null,[n[5]||(n[5]=l("strong",null,"Vorname:",-1)),e(" "+t(s.value.user.firstName),1)]),l("li",null,[n[6]||(n[6]=l("strong",null,"Nachname:",-1)),e(" "+t(s.value.user.lastName),1)]),l("li",null,[n[7]||(n[7]=l("strong",null,"Email:",-1)),e(" "+t(s.value.user.emailAddress),1)])])]),l("section",I,[n[19]||(n[19]=l("h3",null,"Versandinformationen",-1)),l("ul",null,[l("li",null,[n[9]||(n[9]=l("strong",null,"Versanddienst:",-1)),e(" "+t(s.value.shipping.carrier),1)]),l("li",null,[n[10]||(n[10]=l("strong",null,"Lieferstatus:",-1)),e(" "+t(s.value.shipping.deliveryStatus),1)]),l("li",null,[n[11]||(n[11]=l("strong",null,"Lieferdatum:",-1)),e(" "+t(a(s.value.shipping.estimatedDeliveryDate)),1)]),l("li",null,[n[12]||(n[12]=l("strong",null,"Versanddatum:",-1)),e(" "+t(a(s.value.shipping.shippingDate)),1)])]),n[20]||(n[20]=l("hr",{class:"section-divider"},null,-1)),n[21]||(n[21]=l("h4",null,"Lieferadresse",-1)),l("ul",P,[l("li",null,[n[13]||(n[13]=l("strong",null,"Land:",-1)),e(" "+t(s.value.shipping.address.country),1)]),l("li",null,[n[14]||(n[14]=l("strong",null,"Stadt:",-1)),e(" "+t(s.value.shipping.address.city),1)]),l("li",null,[n[15]||(n[15]=l("strong",null,"Postleitzahl:",-1)),e(" "+t(s.value.shipping.address.postalCode),1)]),l("li",null,[n[16]||(n[16]=l("strong",null,"Straße:",-1)),e(" "+t(s.value.shipping.address.street),1)]),l("li",null,[n[17]||(n[17]=l("strong",null,"Hausnummer:",-1)),e(" "+t(s.value.shipping.address.houseNumber),1)]),s.value.shipping.address.addressAddition?(o(),i("li",F,[n[18]||(n[18]=l("strong",null,"Zusatz:",-1)),e(" "+t(s.value.shipping.address.addressAddition),1)])):d("",!0)])]),l("section",Z,[n[27]||(n[27]=l("h3",null,"Zahlungsinformationen",-1)),l("ul",null,[l("li",null,[n[22]||(n[22]=l("strong",null,"Zahlungsmethode:",-1)),e(" "+t(s.value.payment.paymentOption),1)]),s.value.payment.paymentOption==="credit card"?(o(),i(m,{key:0},[l("li",null,[n[23]||(n[23]=l("strong",null,"Kreditkartennummer:",-1)),e(" "+t(y(s.value.payment.creditCardNumber)),1)]),l("li",null,[n[24]||(n[24]=l("strong",null,"Ablaufdatum:",-1)),e(" "+t(s.value.payment.expiryDate),1)])],64)):d("",!0),s.value.payment.paymentOption==="paypal"?(o(),i("li",q,[n[25]||(n[25]=l("strong",null,"PayPal Email:",-1)),e(" "+t(s.value.payment.paypalEmail),1)])):d("",!0),s.value.payment.paymentOption==="bank transfer"?(o(),i("li",G,[n[26]||(n[26]=l("strong",null,"IBAN:",-1)),e(" "+t(s.value.payment.iban),1)])):d("",!0)])]),l("section",K,[n[31]||(n[31]=l("h3",null,"Produkte",-1)),l("div",M,[(o(!0),i(m,null,A(s.value.orderProducts,u=>(o(),i("div",{key:u.id,class:"product-card"},[l("img",{src:u.product.image,alt:u.product.name},null,8,R),l("div",$,[l("h4",null,t(u.product.name),1),l("p",null,t(u.product.description),1),l("ul",null,[l("li",null,[n[28]||(n[28]=l("strong",null,"Preis:",-1)),e(" "+t(p(u.product.price)),1)]),l("li",null,[n[29]||(n[29]=l("strong",null,"Menge:",-1)),e(" "+t(u.quantity),1)]),l("li",null,[n[30]||(n[30]=l("strong",null,"Gesamt:",-1)),e(" "+t(p(u.product.price*u.quantity)),1)])])])]))),128))])])])])):(o(),i("div",H,n[32]||(n[32]=[l("p",null,"Bestelldaten werden geladen...",-1)])))}},Q=k(T,[["__scopeId","data-v-b94db127"]]);export{Q as default};
