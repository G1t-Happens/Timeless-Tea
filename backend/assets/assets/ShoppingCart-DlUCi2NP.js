import{_ as x,H as C,k as v,c as a,a as t,f as d,i as p,g as b,F as B,m as Q,d as w,e as m,t as l,q as s,h as T,o as i,b as D,v as S,s as V}from"./index-coL_GGQM.js";import{B as A}from"./BackButton-CSr1JIJn.js";const F={class:"cart"},K={key:0,class:"empty-cart"},M={key:1,class:"cart-content"},N={class:"cart-table"},O={class:"product-info"},W=["src","alt"],G=["onUpdate:modelValue","onChange"],U=["onClick"],E={key:0,class:"error-message"},I={class:"cart-summary"},P=["disabled"],Z={__name:"ShoppingCart",setup(q){const o=C(),f=V(),k=e=>{o.removeFromCart(e)},h=e=>{if(isNaN(e.productQuantity)){e.productQuantity=1,s.fire({backdrop:!1,title:"Ungültige Eingabe!",text:"Bitte geben Sie eine gültige Zahl ein.",icon:"error",confirmButtonText:"OK"}),o.updateQuantity(e.id,e.productQuantity);return}e.productQuantity<1?(e.productQuantity=1,s.fire({backdrop:!1,title:"Ungültige Menge!",text:"Die Menge muss mindestens 1 betragen.",icon:"warning",confirmButtonText:"OK"})):e.productQuantity>1e3&&(e.productQuantity=1e3,s.fire({backdrop:!1,title:"Ungültige Menge!",text:"Die maximale Menge ist 1000.",icon:"warning",confirmButtonText:"OK"})),o.updateQuantity(e.id,e.productQuantity)},_=async()=>{(await s.fire({backdrop:!1,title:"Warenkorb leeren?",text:"Möchten Sie wirklich alle Artikel entfernen? Dieser Vorgang kann nicht rückgängig gemacht werden.",icon:"warning",showCancelButton:!0,confirmButtonText:"Ja, entfernen",cancelButtonText:"Abbrechen"})).isConfirmed&&(o.clearCart(),await s.fire({backdrop:!1,title:"Warenkorb geleert",text:"Der Warenkorb wurde erfolgreich geleert.",icon:"success",confirmButtonText:"OK"}))},u=v(()=>o.totalAmount>1e6),y=()=>{u.value?s.fire({backdrop:!1,title:"Gesamtsumme überschritten!",text:"Die Gesamtsumme darf 1.000.000 € nicht überschreiten.",icon:"error",confirmButtonText:"OK"}):f.push({name:"CheckOut"})};return(e,n)=>{const g=T("router-link");return i(),a("div",F,[n[5]||(n[5]=t("h1",{class:"cart-title"},"Ihr Warenkorb",-1)),d(A),p(o).items.length===0?(i(),a("div",K,[n[1]||(n[1]=t("p",null,"Ihr Warenkorb ist leer.",-1)),d(g,{to:{name:"LandingPage"},class:"btn btn-success"},{default:b(()=>n[0]||(n[0]=[m("Zurück zum Shop ")])),_:1})])):(i(),a("div",M,[t("table",N,[n[2]||(n[2]=t("thead",null,[t("tr",null,[t("th",null,"Produkt"),t("th",null,"Artikel"),t("th",null,"Preis (€)"),t("th",null,"Gesamt (€)"),t("th",null,"Aktion")])],-1)),t("tbody",null,[(i(!0),a(B,null,Q(p(o).items,r=>(i(),a("tr",{key:r.id},[t("td",O,[t("img",{src:r.image,alt:r.name,class:"product-image"},null,8,W),d(g,{to:{name:"ProductDetail",params:{id:r.id}},class:"product-link"},{default:b(()=>[m(l(r.name),1)]),_:2},1032,["to"])]),t("td",null,[D(t("input",{type:"number","onUpdate:modelValue":c=>r.productQuantity=c,min:"1",max:"1000",step:"1",onChange:c=>h(r),class:"quantity-input"},null,40,G),[[S,r.productQuantity,void 0,{number:!0}]])]),t("td",null,l(r.price.toFixed(2)),1),t("td",null,l((r.price*r.productQuantity).toFixed(2)),1),t("td",null,[t("button",{onClick:c=>k(r.id),class:"btn btn-danger remove-btn"}," Entfernen ",8,U)])]))),128))])]),u.value?(i(),a("div",E,n[3]||(n[3]=[t("p",null,"Die Gesamtsumme darf 1.000.000 € nicht überschreiten.",-1)]))):w("",!0),t("div",I,[t("p",null,[n[4]||(n[4]=m(" Gesamtsumme: ")),t("strong",null,l(p(o).totalAmount.toFixed(2))+" €",1)]),t("button",{onClick:y,class:"btn btn-success",disabled:u.value}," Zur Kasse ",8,P),t("button",{onClick:_,class:"btn btn-secondary"},"Warenkorb leeren")])]))])}}},z=x(Z,[["__scopeId","data-v-8eec7364"]]);export{z as default};
